<!doctype html><html><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=generator content="Hugo 0.111.2"><link rel=stylesheet href=http://example.org/scss/style.css><link rel=stylesheet href=http://example.org/style.css><body><header class="top-0 sticky"><div class="backdrop-blur transition-colors duration-500 border-slate-50/[0.06] bg-black/65"><div class=inline-block><a href=/menu/><i class='fa fa-heart'></i>
<span>404</span></a></div><div class=inline-block><a href=/about/><i class='fa fa-heart'></i>
<span>关于</span></a></div></div></header><div id=content><div class="w-full max-w-8xl"><div class=flex><aside class="fixed top-10 z-40 lg:w-40 lg:block hidden"><nav id=TableOfContents><ul><li><a href=#格式化时间date>格式化时间[Date]</a></li><li><a href=#深拷贝对象object>深拷贝对象(Object)</a></li><li><a href=#array-数组>Array 数组</a><ul><li><a href=#移除某个元素>移除某个元素</a></li><li><a href=#array-去重>Array 去重</a></li><li><a href=#array-插入数据>Array 插入数据</a></li></ul></li></ul></nav></aside><article class="prose prose-zinc prose-lg mx-auto">模版: default single<h1 id=javascript-常用脚本>Javascript 常用脚本</h1><h2 id=格式化时间date>格式化时间[Date]</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>Date.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>Format</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>fmt</span>) { <span style=color:#75715e>//author: meizz
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>o</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>        <span style=color:#e6db74>&#34;M+&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, <span style=color:#75715e>//月份
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;d+&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getDate</span>(), <span style=color:#75715e>//日
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;h+&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getHours</span>(), <span style=color:#75715e>//小时
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;m+&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMinutes</span>(), <span style=color:#75715e>//分
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;s+&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getSeconds</span>(), <span style=color:#75715e>//秒
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;q+&#34;</span><span style=color:#f92672>:</span> Math.<span style=color:#a6e22e>floor</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMonth</span>() <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>), <span style=color:#75715e>//季度
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#e6db74>&#34;S&#34;</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMilliseconds</span>() <span style=color:#75715e>//毫秒
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    };
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#e6db74>/(y+)/</span>.<span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>fmt</span>)) <span style=color:#a6e22e>fmt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>replace</span>(RegExp.<span style=color:#a6e22e>$1</span>, (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getFullYear</span>() <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;&#34;</span>).<span style=color:#a6e22e>substr</span>(<span style=color:#ae81ff>4</span> <span style=color:#f92672>-</span> RegExp.<span style=color:#a6e22e>$1</span>.<span style=color:#a6e22e>length</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>k</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>o</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>new</span> RegExp(<span style=color:#e6db74>&#34;(&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;)&#34;</span>).<span style=color:#a6e22e>test</span>(<span style=color:#a6e22e>fmt</span>)) <span style=color:#a6e22e>fmt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>replace</span>(RegExp.<span style=color:#a6e22e>$1</span>, (RegExp.<span style=color:#a6e22e>$1</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>?</span> (<span style=color:#a6e22e>o</span>[<span style=color:#a6e22e>k</span>]) <span style=color:#f92672>:</span> ((<span style=color:#e6db74>&#34;00&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>o</span>[<span style=color:#a6e22e>k</span>]).<span style=color:#a6e22e>substr</span>((<span style=color:#e6db74>&#34;&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>o</span>[<span style=color:#a6e22e>k</span>]).<span style=color:#a6e22e>length</span>)));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fmt</span>;
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>dateFormat</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date().<span style=color:#a6e22e>Format</span>(<span style=color:#e6db74>&#34;yyyy-MM-dd hh:mm:ss&#34;</span>);
</span></span></code></pre></div><h2 id=深拷贝对象object>深拷贝对象(Object)</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>val</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>parse</span>(<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>object</span>));
</span></span></code></pre></div><h2 id=array-数组>Array 数组</h2><h3 id=移除某个元素>移除某个元素</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>Array.<span style=color:#a6e22e>prototype</span>.<span style=color:#a6e22e>remove</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span>(<span style=color:#a6e22e>val</span>) { 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#a6e22e>val</span>); 
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>index</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) { 
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>index</span>, <span style=color:#ae81ff>1</span>); 
</span></span><span style=display:flex><span>    } 
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><h3 id=array-去重>Array 去重</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>newArr</span> <span style=color:#f92672>=</span> [...<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>(<span style=color:#a6e22e>array</span>)]
</span></span></code></pre></div><h3 id=array-插入数据>Array 插入数据</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// splice(start: number, deleteCount: number, ...items: T[])
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#75715e>// 在头部插入一个或多个数据; start:要插入数据的位置
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>object</span>);
</span></span><span style=display:flex><span><span style=color:#75715e>// 或者使用 unshift 方法在头部插入一个或多个数据 
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>unshift</span>(<span style=color:#a6e22e>object</span>);
</span></span></code></pre></div></article></div></div></div></body></html>